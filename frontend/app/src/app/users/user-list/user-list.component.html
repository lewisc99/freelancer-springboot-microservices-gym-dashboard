<app-delete-modal *ngIf="callModal" [message]="messageModal" (close)="closeModal()"  (emitDeleted)="onDeleteUser()"></app-delete-modal>
<div class="container">
    <div class="row d-flex flex-column">
          <div class="col  col-xxl">
          <h1 class="text-center">Users information</h1>
          <button class="btn btn-primary" [routerLink]="['create']">Create</button>
            <table class="table table-hover" >
                <thead>
                  <tr>
                    <th scope="col" class="th-sort" (click)="getAll('username')">Username</th>
                    <th scope="col" class="th-sort" (click)="getAll('email')">email</th>
                    <th scope="col" class="th-sort" (click)="getAll('age')">Age</th>
                    <th scope="col" class="th-sort" >Status</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let user  of usersDTO._embedded">
                    <th scope="row">{{user.username}}</th>
                    <td>{{user.email}}</td>
                    <td >{{user.age}}</td>
                    <td colspan="2">{{user.plan.status}}</td>
                    <td><a [routerLink]="[user.id]">Details</a></td>
                    <td><a [routerLink]="[user.id,'edit']">Update</a></td>
                    <td><a  class="link btn-delete" (click)="onDeleteModal(user.id,user.username)">Delete</a></td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>
</div>
<router-outlet></router-outlet>